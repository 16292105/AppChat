<!DOCTYPE html>
<!--
    Copyright (c) 2012-2016 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>

<head>
    <meta charset="utf-8" />
    <!-- <meta name="format-detection" content="telephone=no" /> -->
    <!-- <meta name="msapplication-tap-highlight" content="no" /> -->
    <!-- <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" /> -->
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" /> -->
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->

    <!-- <link rel="stylesheet" type="text/css" href="css/index.css" /> -->
		<!-- <script type="text/javascript" src="cordova.js"></script> -->
		<!-- <script type="text/javascript" src="js/notificaciones.js"></script> -->
		<script type="text/javascript" src="js/jspdf.min.js"></script>
		<link rel="stylesheet" href="css/themes/temas.min.css" type="text/css"/>
		<link rel="stylesheet" href="css/themes/jquery.mobile.icons.min.css" type="text/css"/>
		<link rel="stylesheet" href="js/jqueryMobile/jquery.mobile.structure-1.4.5.min.css" type="text/css"/>
		<link rel="stylesheet" href="js/jqueryMobile/jquery.mobile.structure-1.4.5.min.css" /> 
		<script src="js/jqueryMobile/jquery-3.3.1.min.js"></script>
		<script src="js/jqueryMobile/jquery-1.11.1.js"></script> 
		<script src="js/jqueryMobile/jquery.mobile-1.4.5.min.js"></script>

   
   <title>Hello World</title>
</head>

<body>
<div data-role = "page" id = "login" >
   <div data-role = "header" >
   <h1>Login</h1>
	</div><center>
	<div data-role = "content">
<div><a href="#" ><img src="img/te.png" width="100px" height="50px"></a></div>
<form id="formulario_ingresar">  
  <div data-role="fieldcontaint"><label for="usu1"></label><input type="text" value="" placeholder="Nombre de usuario" name="usuario1usuario" id="usuario1usuario"></input>	</div>
   <div data-role="fieldcontaint"><label for="cla1"></label><input type="password" value="" placeholder="Contraseña"name="clave1clave" id="clave1clave"></input>	</div>
	<div><a href="#recuperar" data-role="text" >Recuperar contraseña</a></div>
   <div data-role="fieldcontaint"><label for="btnIngresar"> </label><input data-rel="external" type="button" value="Ingresar" name="btnIngresar" id="btnIngresar"></input>	</div>
   <div><a href="#registro" data-role="text" >Registrate gratis</a></div>
	</form>
	</center>
</div>
	<div data-role = "footer" data-position = "fixed" data-id="idfooter">
	
	</div>
   </div>
   <!--9191919199191919191919919191919191919191919191991119191919191919191991919191919191991919191 -->
   <script type="text/javascript">
	$(btnIngresar).click(function(){
	var jsusu=$("#usuario1usuario").val();
	var jscla=$("#clave1clave").val();
	$.ajax({
	type:"POST",
	url:'http://172.16.79.109/paraPh/validacion.php',
	data:{u_su1:jsusu, c_la1:jscla},
	dataType:"jsonp",
	jsonp:"jsoncallback",
	crossDomain:true,
	success:function(data){
	if(data.validacion=="valido"){
		$.mobile.changePage("#menu");
		}
		else{$.mobile.changePage("#login");
		
		}
		}
		});
	document.getElementById("formulario_ingresar").reset();
	return false;
	});
  </script>
  
  							
<!--------------------------------------->

 <!--9191919199191919191919919191919191919191919191991119191919191919191991919191919191991919191 -->
<div data-role = "page" id = "registro">
   <div data-role = "header" >
	<h1>Registro</h1>
	</div><center>
	<div data-role = "content">
<div><a href="#" ><img src="img/te.png" width="100px" height="50px"></a></div>
	<form id="formulario_insertar">
				<div data-role="fieldcontaint"><label for="usuario" >Nombre de usuario: </label><input type="text" onkeypress="return soloLetras(event)" value="" placeholder="Nombre de usuario" name="usuario" id="usuario"></input></div>
				<div data-role="fieldcontaint"><label for="matricula">Matricula: </label><input type="text" value="" onkeypress="return valida(event)"  maxlength="8"  placeholder="Matricula" name="matricula" id="matricula"></input></div>
				<div data-role ="fieldcontaint">
					Sexo: 
					<label for="hombre">Hombre</label>
					<input type ="radio" value ="hombre" name ="sexo" id = "hombre" />
					<label for="mujer">Mujer</label>
					<input type ="radio" value ="mujer" name ="sexo" id = "mujer" />
				
				</div>
				<div data-role="fieldcontaint"><label for="cuatrimestre">Cuatrimestre actual: 	</label><input type="range" 	value="" name="cuatrimestre" id="cuatrimestre" min="1" max="12"></input></div>
				<div>   <select id="grupo"><option value="A">A</option><option value="B">B</option></select></div>	
				<div data-role="fieldcontaint"><label for="correo">Correo electrónico: 			</label><input type="email" 	value="" name="correo" id="correo"></input>	</div>
				<div data-role="fieldcontaint"><label for="clave">Contraseña: 					</label><input type="password" 	value="" placeholder="Contraseña" name="clave" id="clave"></input>	</div>
			    <div data-role="fieldcontaint"><label for="clave2">Confirmar contraseña: 		</label><input type="password" 	value="" placeholder="Contraseña" name="clave2" id="clave2"></input></div>
				<div data-role="fieldcontaint"><input type="button" name="btnRegistrar" id="btnRegistrar"  value="Enviar datos"/>	</div>   
	   </form>
	</center>
</div>
	<div data-role = "footer" data-position = "fixed" data-id="idfooter">
	</div>
   </div>
 <!--9191919199191919191919919191919191919191919191991119191919191919191991919191919191991919191 -->
   <div data-role = "page" id = "menu">
   <div data-role = "header" >
   <h1>Menú</h1>
	</div>
	<center>
	<div data-role = "content">
	<div><a href="#" ><img src="img/te.png" width="100px" height="50px"></a></div>
				<div class ="ui-grid-a">
				<button class ="ui-block-a">Mi perfil</button>
				<button class ="ui-block-b">Mensajes grupales</button>
				<button class ="ui-block-a">Mensajes individuales</button>
				<button class ="ui-block-b">Conectados</button>
			</div>

</div>
</center>
	<div data-role = "footer" data-position = "fixed" data-id="idfooter">
	</div>
   </div>
   <!--9191919199191919191919919191919191919191919191991119191919191919191991919191919191991919191 -->
   <div data-role = "page" id = "recuperar">
   <div data-role = "header" >
   <h1>Recuperar contraseña</h1>
	</div>
	<center>
	<div data-role = "content">
	<div><a href="#" ><img src="img/te.png" width="100px" height="50px"></a></div>
<div data-role="fieldcontaint"><label for="usuario">Nombre de usuario: </label><input type="text" value="" placeholder="Nombre de usuario" name="usuario" id="usuario"></input>
   <div data-role="fieldcontaint"><label for="matricula"></label>Matricula: <input type="text" value="" placeholder="Matricula" name="matricula" id="matricula"></input>	</div>
   <div data-role="fieldcontaint"><label for="btnVerificar"> </label><input data-rel="external" type="button" value="Verificar" name="btnVerificar" id="btnVerificar"></input>	</div>
</div>
</center>
	<div data-role = "footer" data-position = "fixed" data-id="idfooter">
	</div>
   </div>
   </div>
      
	  <!-- document.formu.valora -->
	<script type="text/javascript">
	$(btnRegistrar).click(function(){
        var jsusuario  =$("#usuario").val();
        var jsmatricula=$("#matricula").val();
        var jssexo=$('input[name=sexo]:checked', '#formulario_insertar').val()
        var jsgrupo=$('#grupo').val();
		var jscorreo=$("#correo").val();
		var jsclave=$("#clave").val();
		var jsclave2=$("#clave2").val();
		var jscuatrimestre=$("#cuatrimestre").val();
		$.ajax({
		type:"POST",
		url:'http://172.16.79.109/paraPh/guardar.php',
		data:{u_suario:jsusuario, m_atricula:jsmatricula, s_exo:jssexo,
		g_rupo:jsgrupo, c_orreo:jscorreo, c_lave:jsclave, c_lave2:jsclave2, c_uatrimestre:jscuatrimestre},
			dataType:"jsonp",
			jsonp:"jsoncallback", 
			crossDomain:true,
			cache: false,
			success:function(data){
		if(data.estado=="insertado"){
		$.mobile.changePage("#login");}
		else{$.mobile.changePage("#registro");
		}
		}
		});
        document.getElementById("formulario_insertar").reset();
        return false;
    });
    </script>

	
      <!--9191919199191919191919919191919191919191919191991119191919191919191991919191919191991919191 -->
	  <!-- Éste script solo permite letrás minusculas y mayusculas, también permite aceptar determinados caracteres especiales-->
	<script>
    function soloLetras(e){
       key = e.keyCode || e.which;
       tecla = String.fromCharCode(key).toLowerCase();
       letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
       especiales = "";

       tecla_especial = false
       for(var i in especiales){
            if(key == especiales[i]){
                tecla_especial = true;
                break;
            }
        }

        if(letras.indexOf(tecla)==-1 && !tecla_especial){
            return false;
        }
    }
</script>
<!--------------------------------------->
	  <!-- Éste script solo permite números y la cantidad de 8-->
<script>
function valida(e){
    tecla = (document.all) ? e.keyCode : e.which;

    //Tecla de retroceso para borrar, siempre la permite
    if (tecla==8){
        return true;
    }
        
    // Patron de entrada, en este caso solo acepta numeros
    patron =/[0-9]/;
    tecla_final = String.fromCharCode(tecla);
    return patron.test(tecla_final);
}
</script>
	<!--------------------------------------->
<!-- Limita el minimo de carácteres -->
<script>
function caracteres(){
var input = document.getElementById('input');
if(input.value.length < 8) {
alert('Escribe 8 carácteres.');
}
}
</script>
	<!--------------------------------------->

	  
 </body>

</html>
